{"version":3,"file":"main.js","sources":["../../../src/scripts/utils/coordinate.js","../../../src/scripts/logo-path.js","../../../src/scripts/shapes/hexagon.js","../../../src/scripts/utils/animation.js","../../../src/scripts/logo.js","../../../src/scripts/utils/format-date.js","../../../src/scripts/main.js"],"sourcesContent":["export default (x, y) => ({ x, y });\n","import coordinate from './utils/coordinate';\n\n/**\n * Linear interpolate a point on a path between a and b.\n *\n * @param {Object} a - The start coordinate to lerp from.\n * @param {Object} b - The end coordinate to lerp to.\n * @param {Number} t - The progress along the path. Should be a number between 0 and 1\n */\nconst lerp = (a, b, t) => coordinate(\n  a.x + ((b.x - a.x) * t),\n  a.y + ((b.y - a.y) * t),\n);\n\n/**\n * Get an array of values from a date string.\n *\n * @param {String} date - The input date as dd-mm-yyyy\n * @return {Array} The values\n */\nconst valuesFromDate = (date) => {\n  const radix = 10;\n  const [year, month, day] = (date || '0000-00-00').split(/-/g);\n\n  return [\n    Number.parseInt(day.substr(0, 1), radix),\n    Number.parseInt(day.substr(1, 1), radix),\n    Number.parseInt(month.substr(0, 1), radix),\n    Number.parseInt(month.substr(1, 1), radix),\n    Number.parseInt(year.substr(2, 1), radix),\n    Number.parseInt(year.substr(3, 1), radix),\n  ];\n};\n\n/**\n * Get the generated logo SVG path.\n * @param {Array} path - A multidimensional array of points in a 2D space.\n * @param {Array} values - An array, each defining the linear \"progress\" per line.\n * @return {String} The SVG path.\n */\nexport default (path, values, padding = true) => {\n  const tPadding = padding ? 0.1 : 0;\n  let pathSvg = '';\n\n  values.forEach((value, i) => {\n    const start = path[i];\n    const end = path[(i + 1) % path.length];\n    const t = ((value / 9) * (1 - (tPadding * 2))) + tPadding;\n\n    const position = lerp(start, end, t);\n    const operation = i === 0 ? 'M' : 'L';\n\n    pathSvg += `${operation} ${position.x} ${position.y}`;\n  });\n\n  return `${pathSvg} Z`;\n};\n\nexport {\n  coordinate,\n  lerp,\n  valuesFromDate,\n};\n","import coordinate from '../utils/coordinate';\n\nconst PI_TWO = Math.PI * 2;\nconst path = new Array(6);\nconst angleBase = Math.PI * -0.5;\n\nfor (let i = 0; i < path.length; i++) {\n  const angleDelta = (PI_TWO / path.length) * i;\n  const angle = angleBase + angleDelta;\n  const x = Math.cos(angle);\n  const y = Math.sin(angle);\n\n  path[i] = coordinate(x, y);\n}\n\nexport default path;\n","const getNow = () => Date.now() / 1000;\nconst noop = () => {};\n\nconst animation = (duration, onUpdate, onCompleteCallback = null) => {\n  let onComplete = onCompleteCallback;\n  let animationStart;\n  let animationFrame;\n\n  const cancel = () => {\n    if (!animationFrame) return;\n    cancelAnimationFrame(animationFrame);\n    animationFrame = null;\n  };\n\n  const update = () => {\n    const now = getNow();\n    const progress = Math.min(1, (now - animationStart) / duration);\n\n    onUpdate(progress);\n\n    if (progress < 1) {\n      animationFrame = requestAnimationFrame(update);\n    } else if (onComplete) {\n      cancel();\n      onComplete();\n    }\n  };\n\n  return {\n    start() {\n      animationStart = getNow();\n      animationFrame = requestAnimationFrame(update);\n    },\n\n    setNext(callback) {\n      onComplete = callback;\n    },\n\n    cancel,\n  };\n};\n\nconst animationChain = (animations) => {\n  const animationFirst = animations[0];\n\n  animations.forEach((a, i) => {\n    if (i === animations.length - 1) return;\n\n    const nextAnimation = animations[i + 1];\n    a.setNext(() => nextAnimation.start());\n  });\n\n  return {\n    start() {\n      animationFirst.start();\n    },\n\n    cancel() {\n      animations.forEach((a) => {\n        a.setNext(null);\n        a.cancel();\n      });\n    },\n  };\n};\n\nconst fakeAnimation = (execute, onCompleteCallback) => {\n  let onComplete = onCompleteCallback;\n\n  return {\n    start() {\n      if (onComplete) execute(onComplete);\n      else execute(noop);\n    },\n\n    setNext(callback) {\n      onComplete = callback;\n    },\n\n    cancel() {},\n  };\n};\n\nexport {\n  animation,\n  animationChain,\n  fakeAnimation,\n};\n","import { default as getLogoPath, valuesFromDate } from './logo-path';\nimport hexagon from './shapes/hexagon';\nimport {\n  animation,\n  animationChain,\n  fakeAnimation,\n} from './utils/animation';\n\nconst animationDuration = 0.4;\nconst animationDurationHalf = 0.2;\n\nconst ease = n => Math.sin(n * Math.PI * 0.5);\n\nexport default class Logo {\n  constructor(element, fillElement = null, imageElement = null) {\n    this.element = element;\n    this.fillElement = fillElement;\n    this.imageElement = imageElement;\n\n    this.isAnimating = false;\n    this.previousDate = null;\n    this.previousImage = null;\n  }\n\n  setData(date, image = null, pad = true) {\n    if (this.isAnimating) return false;\n\n    const setImage = fakeAnimation((done) => {\n      this.imageElement.setAttribute('xlink:href', image);\n      done();\n    });\n\n    const fillShow = fakeAnimation((done) => {\n      this.fillElement.classList.remove('is-hidden');\n      done();\n    });\n\n    const fillHide = fakeAnimation((done) => {\n      this.fillElement.classList.add('is-hidden');\n      done();\n    });\n\n    const fadeIn = animation(animationDurationHalf, (progress) => {\n      this.imageElement.style.opacity = progress;\n    });\n\n    const fadeOut = animation(animationDurationHalf, (progress) => {\n      this.imageElement.style.opacity = 1 - progress;\n    });\n\n    const finishAnimation = fakeAnimation((done) => {\n      this.isAnimating = false;\n      done();\n    });\n\n    const valuesStart = valuesFromDate(this.previousDate);\n    const valuesTarget = valuesFromDate(date);\n\n    this.previousDate = date;\n    this.animatePath(valuesStart, valuesTarget, pad);\n\n    if (this.imageElement) {\n      this.isAnimating = true;\n\n      if (!this.previousImage && image) {\n        animationChain([setImage, fadeIn, fillHide, finishAnimation]).start();\n      } else if (this.previousImage && image) {\n        animationChain([fadeOut, setImage, fadeIn, finishAnimation]).start();\n      } else if (this.previousImage && !image) {\n        animationChain([fillShow, fadeOut, finishAnimation]).start();\n      } else {\n        animationChain([fillShow, finishAnimation]).start();\n      }\n    }\n\n    this.previousImage = image;\n    return true;\n  }\n\n  animatePath(valuesStart, valuesTarget, pad = true) {\n    animation(animationDuration, (progress) => {\n      const values = valuesStart.map((valueStart, i) => {\n        const valueTarget = valuesTarget[i];\n        const diff = valueTarget - valueStart;\n\n        return valueStart + (ease(progress) * diff);\n      });\n\n      const path = getLogoPath(hexagon, values, pad);\n\n      this.element.setAttribute('d', path);\n    }).start();\n  }\n}\n","const PADDING = '0';\n\nexport default (date) => {\n  const month = (date.getMonth() + 1).toString().padStart(2, PADDING);\n  const day = date.getDate().toString().padStart(2, PADDING);\n\n  return `${date.getFullYear()}-${month}-${day}`;\n};\n","import Logo from './logo';\nimport formatDate from './utils/format-date';\n\nconst logo = new Logo(\n  document.querySelector('.js-logo-path'),\n  document.querySelector('.js-logo-fill'),\n  document.querySelector('.js-logo-image'),\n);\n\nconst logoBackground = new Logo(document.querySelector('.js-logo-background'));\n\nconst presetList = document.querySelector('.js-preset-list');\nconst presetButtons = Array.from(presetList.querySelectorAll('.js-preset-button'));\nconst today = formatDate(new Date());\n\n// Update today preset\ndocument.querySelector('.js-preset-today').dataset.date = today;\ndocument.querySelector('.js-preset-today-display').innerHTML = today;\n\n// Add interactivity for preset list\npresetList.addEventListener('click', (e) => {\n  if (e.target.tagName !== 'BUTTON') return;\n\n  const button = e.target;\n  const success = logo.setData(button.dataset.date, button.dataset.image);\n\n  if (success) {\n    presetButtons.forEach(b => b.classList.remove('is-active'));\n    button.classList.add('is-active');\n  }\n});\n\n// Update logos\nlogo.setData(presetList.querySelector('button[data-date]').dataset.date);\nlogoBackground.setData('0000-00-00', null, false);\n\n// Add background toggle\nArray.from(document.querySelectorAll('.js-toggle-background')).forEach((radio) => {\n  radio.addEventListener('change', () => {\n    const isVisible = radio.value === 'on';\n\n    logoBackground.element.classList.toggle('is-hidden', !isVisible);\n  });\n});\n"],"names":["x","y","lerp","a","b","t","coordinate","valuesFromDate","date","radix","split","year","month","day","Number","parseInt","substr","path","values","padding","tPadding","pathSvg","forEach","value","i","start","end","length","position","operation","PI_TWO","Math","PI","Array","angleBase","angleDelta","angle","cos","sin","getNow","Date","now","noop","animation","duration","onUpdate","onCompleteCallback","onComplete","animationStart","animationFrame","cancel","update","progress","min","requestAnimationFrame","callback","animationChain","animations","animationFirst","nextAnimation","setNext","fakeAnimation","execute","animationDuration","animationDurationHalf","ease","n","Logo","element","fillElement","imageElement","isAnimating","previousDate","previousImage","image","pad","setImage","done","setAttribute","fillShow","classList","remove","fillHide","add","fadeIn","style","opacity","fadeOut","finishAnimation","valuesStart","valuesTarget","animatePath","map","valueStart","valueTarget","diff","getLogoPath","hexagon","PADDING","getMonth","toString","padStart","getDate","getFullYear","logo","document","querySelector","logoBackground","presetList","presetButtons","from","querySelectorAll","today","formatDate","dataset","innerHTML","addEventListener","e","target","tagName","button","success","setData","radio","isVisible","toggle"],"mappings":"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"}